/*! build 2015-05-23 23:05:13 */
/*! rbot.js */
/*! Copyright Francois Lajoie */
/*! MIT License */
"use strict";var app=angular.module("rbot",[]);app.filter("to_trusted",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),app.controller("consoleController",["$scope","$http",function(a,b){function c(){return d(a.cmd_input)?void f[a.cmd_input]():void b.post("index.php",{cmd:a.cmd_input}).success(function(a){g.console.innerHTML+=a,g.console.scrollTop=g.console.scrollHeight}).error(function(){console.log("Cannot resolve: "+a.cmd_input)})}function d(a){return f[a]?!0:!1}function e(){document.body.addEventListener("dblclick",function(){console.log("dlclock"),document.getElementById("cmd").focus()})}a.cmd_history=[],a.cmd_input="$",a.cmd_input_default="$",a.console="";var f={clear:function(){a.console=""}},g={cmd:document.getElementById("cmd"),console:document.getElementById("console")};a.cmdTyping=function(b){var d=window.event?b.keyCode:b.which;13==d?(c(),a.cmd_history.push(a.cmd_input),a.cmd_input=a.cmd_input_default):8==d?"$"==a.cmd_input.trim()&&(a.cmd_input=""):38==d?a.cmd_input=a.cmd_history[a.cmd_history.length-1]:40==d||""==a.cmd_input.trim()&&32==d&&(a.cmd_input="$")},a.focusCmd=function(){g.cmd.focus()},e()}]);